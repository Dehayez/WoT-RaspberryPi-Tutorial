import { forwardRef, useMemo, createElement } from 'react';
import { BufferGeometry, BufferAttribute } from 'three';

// reference: https://medium.com/@luruke/simple-postprocessing-in-three-js-91936ecadfb7

function createScreenQuadGeometry() {
  const geometry = new BufferGeometry();
  const vertices = new Float32Array([-1, -1, 3, -1, -1, 3]);
  geometry.setAttribute('position', new BufferAttribute(vertices, 2));
  return geometry;
}

const ScreenQuad = /*#__PURE__*/forwardRef(function ScreenQuad({
  children
}, ref) {
  const geometry = useMemo(createScreenQuadGeometry, []);
  return /*#__PURE__*/createElement("mesh", {
    ref: ref,
    geometry: geometry,
    frustumCulled: false
  }, children);
});

export { ScreenQuad };
